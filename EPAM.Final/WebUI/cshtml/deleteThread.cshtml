@{
    if (!int.TryParse(Request.QueryString["id"], out int id))
    {
        Response.Redirect("~/cshtml/index");
    }

    var forumLogic = EPAM.Final_Common.DependencyResolver.ForumLogic;
    var t = forumLogic.GetThread(id);

    if (t.StartedBy.Equals(User.Identity.Name) || User.IsInRole("moderator"))
    {
        forumLogic.DeleteThread(id);
        Response.Redirect($"~/cshtml/index");
    }

    Response.Redirect($"~/cshtml/index");
}
