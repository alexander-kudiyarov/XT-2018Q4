@{
    if (!int.TryParse(Request.QueryString["id"], out int id))
    {
        Response.Redirect("~/cshtml/index");
    }

    var forumLogic = EPAM.Final_Common.DependencyResolver.ForumLogic;
    var t = forumLogic.GetThread(id);

    if (!(t.StartedBy.Equals(User.Identity.Name) || User.IsInRole("admin")))
    {
        Response.Redirect("~/cshtml/index");
    }
}

<title>Thread delete confirmation</title>
<div>
    <p>You want to delete this thread?</p>
    <p>@t.Subject</p>
    <a href="~/cshtml/deleteThread?id=@t.Id">Yes</a>
    <a href="~/cshtml/index">No</a>
</div>
